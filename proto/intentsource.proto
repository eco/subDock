syntax = "proto3";

package intentsource.v1;

message IntentEvents {
  repeated IntentCreated intent_created = 1;
  repeated IntentFunded intent_funded = 2;
  repeated IntentPartiallyFunded intent_partially_funded = 3;
  repeated Withdrawal withdrawal = 4;
  repeated Refund refund = 5;
  repeated IntentProofChallenged intent_proof_challenged = 6;
  repeated Fulfillment fulfillment = 7;
  repeated OrderFilled order_filled = 8;
}

message IntentCreated {
  string intent_hash = 1;
  string salt = 2;
  uint64 source_chain_id = 3;
  uint64 destination_chain_id = 4;
  string inbox_address = 5;
  repeated TokenAmount route_tokens = 6;
  repeated Call calls = 7;
  string creator = 8;
  string prover = 9;
  uint64 deadline = 10;
  uint64 native_value = 11;
  repeated TokenAmount reward_tokens = 12;
  uint64 block_number = 13;
  string tx_hash = 14;
  uint64 timestamp = 15;
}

message TokenAmount {
  string token = 1;
  string amount = 2;
}

message Call {
  string target = 1;
  string data = 2;
  string value = 3;
}

message IntentFunded {
  string intent_hash = 1;
  string funder = 2;
  uint64 block_number = 3;
  string tx_hash = 4;
  uint64 timestamp = 5;
}

message IntentPartiallyFunded {
  string intent_hash = 1;
  string funder = 2;
  uint64 block_number = 3;
  string tx_hash = 4;
  uint64 timestamp = 5;
}

message Withdrawal {
  string hash = 1;
  string recipient = 2;
  uint64 block_number = 3;
  string tx_hash = 4;
  uint64 timestamp = 5;
}

message Refund {
  string hash = 1;
  string recipient = 2;
  uint64 block_number = 3;
  string tx_hash = 4;
  uint64 timestamp = 5;
}

message IntentProofChallenged {
  string intent_hash = 1;
  uint64 block_number = 2;
  string tx_hash = 3;
  uint64 timestamp = 4;
}

message Fulfillment {
  string hash = 1;
  uint64 source_chain_id = 2;
  string prover = 3;
  string claimant = 4;
  uint64 block_number = 5;
  string tx_hash = 6;
  uint64 timestamp = 7;
}

message OrderFilled {
  string order_id = 1;
  string solver = 2;
  uint64 block_number = 3;
  string tx_hash = 4;
  uint64 timestamp = 5;
}